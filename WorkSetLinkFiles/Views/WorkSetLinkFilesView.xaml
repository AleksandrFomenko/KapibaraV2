<ui:FluentWindow
    x:Class="WorkSetLinkFiles.Views.WorkSetLinkFilesView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:viewModel="clr-namespace:WorkSetLinkFiles.ViewModels"
    xmlns:ui="http://Kapibara/xaml"
    mc:Ignorable="d"
    d:DataContext="{d:DesignInstance viewModel:WorkSetLinkFilesViewModel}"
    WindowStartupLocation="CenterScreen"
    Height="600"
    Width="900">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <RowDefinition Height="70" />
            <RowDefinition Height="*" />
            <RowDefinition Height="50" />
            <RowDefinition Height="50" />
            <RowDefinition Height="60" />
        </Grid.RowDefinitions>
        
        <ui:TitleBar Grid.Row="0" Title="Worksets"/>
        
        <ui:Card Grid.Row="1" Margin="10, 0">
            <Grid Margin="10,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="50"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="75"/>
                    <ColumnDefinition Width="125"/>
                    <ColumnDefinition Width="75"/>
                    <ColumnDefinition Width="125"/>
                </Grid.ColumnDefinitions>
                
                <CheckBox  Grid.Column="0"
                           IsChecked="{Binding IsCheckedAllLinks}" />
                <TextBlock Grid.Column="1"
                           HorizontalAlignment="Left"
                           VerticalAlignment="Center"
                           Text="{Binding NameText}" />
                <TextBlock Grid.Column="2"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Text="{Binding PrefixText}" />
                <TextBox Grid.Column="3"
                         Text="{Binding  Prefix, UpdateSourceTrigger=PropertyChanged}" />
                <TextBlock Grid.Column="4"
                           Text="{Binding SuffixText}"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
                <TextBox Grid.Column="5"
                         Text="{Binding  Suffix, UpdateSourceTrigger=PropertyChanged}" />
            </Grid>
        </ui:Card>
        
        <ui:Card Grid.Row="2" Margin="10" VerticalAlignment="Top">
            <ListBox
                ItemsSource="{Binding LinksRevitModels}"
                SelectedItem="{Binding LinkRevitModel}">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="50"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="100"/>
                            </Grid.ColumnDefinitions>
                            
                            <CheckBox IsChecked="{Binding IsChecked}"
                                      Grid.Column="0" />
                            
                            <TextBlock Grid.Column="1"
                                       Text="{Binding RevitModelName}"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Left"/>
                            <TextBox Grid.Column="2"
                                     Margin="5,0"
                                     MinWidth="75"
                                     Text="{Binding Prefix}"
                                     HorizontalAlignment="Right"
                                     HorizontalContentAlignment="Right" />
                            <TextBox Grid.Column="3"
                                     Text="{Binding WorksetName}"
                                     HorizontalAlignment="Center" />
                            <TextBox Grid.Column="4"
                                     Margin="5,0"
                                     MinWidth="75"
                                     HorizontalAlignment="Left"
                                     HorizontalContentAlignment="Left" 
                                     Text="{Binding Suffix}" />
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </ui:Card>
        
        <ui:ToggleSwitch
            Grid.Row="3"
            Margin="10,0,0,0"
            HorizontalAlignment="Left"
            IsChecked="{Binding Axes, Mode=TwoWay}" />
        
        <TextBlock
            Grid.Row="3"
            Margin="75,0,0,0"
            VerticalAlignment="Center"
            HorizontalAlignment="Left"
            Text="{Binding AxesText}"/>
        
        <ComboBox
            Grid.Row="3"
            Margin="325,0,0,0"
            Width="200"
            HorizontalAlignment="Left"
            ItemsSource="{Binding Worksets}"
            SelectedItem="{Binding WorksetAxes, Mode=TwoWay}" />
        
        <ui:ToggleSwitch
            Grid.Row="4"
            Margin="10,0,0,0"
            HorizontalAlignment="Left"
            IsChecked="{Binding Level, Mode=TwoWay}" />
        
        <TextBlock
            Grid.Row="4" 
            HorizontalAlignment="Left"
            Margin="75,0,0,0"
            VerticalAlignment="Center"
            Text="{Binding LevelText}"/>
        
        <ComboBox
            Grid.Row="4"
            Margin="325,0,0,0"
            Width="200"
            HorizontalAlignment="Left"
            ItemsSource="{Binding Worksets}"
            SelectedItem="{Binding WorksetLevel, Mode=TwoWay}" />
        
        <ui:Button
            Grid.Row="5"
            Margin="10"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Appearance="Primary"
            Content="Execute"
            Command="{Binding StartCommand}"/>
       
        
    </Grid>
</ui:FluentWindow>