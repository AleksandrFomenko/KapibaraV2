<ui:FluentWindow
    x:Class="Marking.Views.MarkingView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:ui="http://Kapibara/xaml"
    xmlns:converters="clr-namespace:Marking.Views.Converters"
    mc:Ignorable="d"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterScreen"
    ShowInTaskbar="False"
    
    Height="200"
    MinHeight="200"

    Width="300"
    MinWidth="300">
    <ui:FluentWindow.Resources>
        <converters:EnumDescriptionConverter x:Key="EnumDescriptionConverter" />
    </ui:FluentWindow.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <ui:TitleBar Grid.Row="0" Title="{Binding Title}" ShowMinimize="False" ShowMaximize="False"/>


        <DockPanel Grid.Row="1" Margin="10">

            <ui:Button DockPanel.Dock="Bottom"
                       Appearance="Primary"
                       Content="Маркировать"
                       HorizontalAlignment="Center"
                       Icon="{ui:SymbolIcon ArrowSyncCheckmark24}"
                       Command="{Binding ExecuteCommand}" />
            <ui:TextBlock DockPanel.Dock="Top"
                          FontSize="12"
                          VerticalAlignment="Center"
                          FontTypography="BodyStrong"
                          Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                          Text="Выбор опции"
                          TextWrapping="WrapWithOverflow" />

            <ComboBox DockPanel.Dock="Top"
                      ItemsSource="{Binding Choices}"
                      SelectedItem="{Binding SelectedChoice}">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Converter={StaticResource EnumDescriptionConverter}}" />
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <StackPanel Orientation="Horizontal" DockPanel.Dock="Top">

                <ui:Button
                    Appearance="Primary"
                    Content="Выбрать"
                    Icon="{ui:SymbolIcon SelectAllOff24}"
                    Command="{Binding SelectMarkInstanceCommand}" />

                <Separator Width="10" Visibility="Hidden" />

                <ui:TextBlock
                    FontSize="12"
                    VerticalAlignment="Center"
                    FontTypography="BodyStrong"
                    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                    Text="{Binding SelectedMark}"
                    TextWrapping="WrapWithOverflow" />

            </StackPanel>

        </DockPanel>
    </Grid>
</ui:FluentWindow>